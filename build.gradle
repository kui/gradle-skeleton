// プロジェクト全体の設定

// eclipse wtp のファセットの設定
// web/build.gradle でしか使ってないが、war プロジェクトがもっと増えたときは
// これを使いまわす
wtpFacets = {
	facet name: 'jst.web', version: '3.0'
	facet name: 'jst.java', version: "$sourceCompatibility"
}

sourceCompatibility = 1.7

// ルートプロジェクト含めたすべてプロジェクトの設定
allprojects {  }

// すべてのサブプロジェクトの設定
subprojects {
	apply plugin: 'eclipse'
	apply plugin: 'java'

	// maven でいうところの provided エミュレート
	// http://blog.codeaholics.org/2012/emulating-mavens-provided-scope-in-gradle/
	// http://www.gradle.org/docs/current/dsl/org.gradle.plugins.ide.eclipse.model.EclipseClasspath.html
	configurations{ provided }
	sourceSets {
		main { compileClasspath += configurations.provided }
		test {
			compileClasspath += configurations.provided
			runtimeClasspath += configurations.provided
		}
	}
	eclipse.classpath {
		plusConfigurations += configurations.provided
		noExportConfigurations += configurations.provided
	}

	repositories { mavenCentral() }

	dependencies {
		testCompile 'junit:junit:4.+@jar'
		compile 'ch.qos.logback:logback-classic:1.0.11'
		compile 'org.slf4j:slf4j-api:1.7.5'
	}
}
